操作系统，英文名称 Operating System，是一门起源于美国的计算机科学。目前比较为人所知的操作系统有 Microsoft 的 Windows 系统，以及 Apple 的 MacOS 家族，还有以 linux 为内核的各种 Linux 发行版（Centos/Ubuntu 等）。


# 一、操作系统的定义

操作系统是一种由引导程序（bootloader）启动并管理计算机中所有程序生命周期的系统程序。所以，在定义的范围上操作系统也属于一种程序。当它启动后就是计算机的主宰，可以掌控其他程序的生杀大权。然而，在计算机开始启动时它并没有启动，更值得注意的是，它是由其他程序（bootloader）进行引导启动的。这个启动过程之后会有一个专门的篇幅进行讲解，这其中涉及很多知识点，比如 bootloader 是如何启动操作系统，BIOS 和 UEFI 的区别等。


# 二、操作系统的作用

在概括操作系统的作用前，先看一下在操作系统出现前计算机是如何工作的。在计算机的远古时期，计算机靠人工输入指令工作，一个很经典的场景就是：程序员先设计好程序，然后制作成打孔条带，将打孔条带放入专门的机器把指令翻译出来并交由计算机执行。很久以前，有个虫子破坏了纸带上的指令导致程序运行出错，之后人们习惯将程序出错称呼为 bug (虫子)，调试程序称呼为 debug（干掉虫子）。但是在这个时期的计算机同一时刻只能有一个任务在执行，那时没有并发或并行的概念。虽然当时的计算机造价非常昂贵，但是它的利用率不高，在现在的我们看来它是不需要进程调度管理的。

现代的操作系统已经进化成为了功能完善且非常复杂的系统软件，它可以帮我们管理计算机的各种资源，协助我们完成各种复杂繁琐的任务。一个现代的操作系统应该具备如下几个功能特性：


## 1、用户界面（GUI）


普通用户操作电脑是需要用户界面的，没有用户界面的电脑对于普通用户来说就是灾难。你能想象家里的老人或者上了年纪的人用电脑却没有鼠标的场景吗？你能想象使用黑框框来做 PPT 吗？你能想象使用黑框框来浏览网页吗？
专业的 IT 工作者有时候会使用黑框框纯粹是工作需要，在有些场景下，黑框框比用户界面更有效率一些。而类似于服务器场景的开发工作基本上是没有用户界面的，当然一直强调的是专业场景，这个世界上能流畅使用黑框框的人占总人口的比例太少太少。
用户界面这项伟大的发明诞生于施乐公司，经乔布斯和比尔盖茨商业化运作后得以让世人发现它的伟大之处。用户界面的发明就相当于简体汉字的出现一般，简体汉字的推行让中国的文盲率大幅降低，而用户界面的发明则大幅降低了计算机的使用难度，所以你很难想象现代的操作系统没有用户界面。


## 2、进程管理


先来解释一下什么是进程。进程是计算机进行资源管理以及调度的基本单位，是程序的执行实体。这种说法比较正统，或者你可以将一个进程看成是计算机正在进行的一项任务。计算机里面有很多各式各样功能的进程，那么多进程如何比较好的运行是个深奥的学问。

你可以想象一下：你打开了微信、word 文档、音乐软件，你想一边跟同事进行交流文档的内容应该如何写，一边在 word 文档敲下你的构思，然后在这个过程中你还听着音乐。在这个过程中，计算机需要将微信的网络保持连接，持续收发微信的信息，随时保存你的 word 文档到磁盘上，解码音乐流并播放出来。这一系列程序运转如何能让你产生一个假象：你以为它们是在同时运行的，但其实它们在同一时刻只有一个在运行。这就是进程管理和调度。


## 3、内存管理


内存是计算机很重要的一个资源，因为程序只有被加载到内存中才可以运行，此外 CPU 所需要的指令与数据也都是来自内存的。内存的并不是无限制的，它受限于硬件和寻址位数。但是现代操作系统会让每一个进程都觉得自己在独占整个内存，这就是虚拟内存技术。值得注意的是，这里的虚拟内存与 swap 这种虚拟内存是不一样的，虽然两个都是成为虚拟内存，但是完全是两个不同方向的技术。

进程的运行需要分配内存，内存分配的快慢都与内存管理方式有着巨大的影响。两个不同进程对应的内存区域是不能相互访问的，操作系统必须得提供这样的保证，否则很容易出问题，比如：运行着的 dota 游戏如果可以被另外一个进程访问它的内存区域的话，那就可以直接将内存区域中的某个数值进行修改，比如将游戏中的玩家生命值变为无限，这样对手怎么打都打不死自己的英雄。例如前段时间火热的吃鸡游戏，外挂软件可以让角色在决赛圈外进行锁血，这个就是游戏内存被修改的最好示例。当然这是通过比较专业的手段来绕过操作系统的限制，这也从另外一个方面来说明，其实现在的操作系统安全性也是有很大提升空间的。

进程退出销毁时，内存的回收也是很重要的，否则很容易就会产生内存溢出，占着茅坑不拉屎，导致其他的进程都憋死。


## 4、文件系统


文件系统与用户的距离很近，每个人平常在使用计算机的时候或多或少都会留下一些数据，而这些数据通常会保留在磁盘里面。磁盘如果不进行格式化的话，普通人是没法使用的。磁盘里面其实就是一些布满磁性物质的盘片，在计算机的世界里数据是 0 和 1 组成的，那对应的在磁盘里面就是磁性的正负极，也就是说计算机的一个文本数据要保存到磁盘中，那就需要将文本数据的电气化信号 0 和 1 通过磁盘翻译为磁性正负极并保存起来。

磁盘格式化的过程就是将文件系统架设到磁盘上，这样可以更好的管理磁盘的数据。你可以将磁盘未格式化之前的数据看做是一堆杂乱无章散落在地上的书，而文件系统就是一个有编排顺序的书架，格式化的过程就是将这堆书一本本按编排顺序放到书架上。这个比喻不太恰当，因为格化式操作通常来说会清掉数据，就相当于将书里面的字都清掉了，放到书架上的书里面都是空白页，所以格式化的时候请谨慎。



## 5、网络通信


我们常见的网络通信场景有：微信聊天、浏览网页、玩网络游戏等，可以说现在的操作系统如果不能上网感觉就没了灵魂。网络通信是个很复杂的过程，连很多专业的程序猿都说不清楚当他上网时网页是如何显示出来的，更别说整个网络的拓扑结构了。

整个网络通信其实是一套约定好的通信协议，很多人第一次听说协议时觉得很高级，其实没什么高级的，简单的说，类似于我们军训时当教官喊立正我们必须得做出相应动作一样，一个指令对应一个动作。由于网络太复杂了，某位哲人说过如果某样东西太复杂可以通过分层来解决，于是网络分了 5 层。有人也许会说是 7 层，那是 OSI 标准，在实际应用中一般都是 5 层。由于网络这块内容实在是太复杂，后面我会另开一个专栏进行讲解。


## 6、设备管理


计算机上有很多设备，比如CPU、内存、网卡、声卡、显卡、硬盘等。那什么是设备管理？

在计算机中除了 CPU 和内存，对于其他一切输入输出设备的管理统称为设备管理。

计算机中的设备分为输入和输出设备。以 CPU 为中心，凡是向 CPU 输送数据的设备统称为输入设备，例如鼠标、键盘、摄像头等；同样以 CPU 为中心，凡是从 CPU 获取数据的设备统称为输出设备，如显示器等。有些设备既是输入设备也是输入设备，比如网卡等。

一个比较常见的场景是当我们将 U盘插进电脑的 USB 插孔时，电脑能实时识别出 U 盘设备，那计算机为啥能实时识别出这些设备呢？之后会有章节讨论一下这个话题。


# 三、操作系统的分类

操作系统可以根据不同的方面进行分类，它分类的依据并不是唯一的。

根据内核结构的不同，可以分为宏内核操作系统、微内核操作系统。常见的 Linux 系统为典型的宏内核操作系统，Windows 系统据说是微内核操作系统。宏内核操作系统的性能比微内核系统略微占优。

根据用途可以将操作系统分为通用操作系统、嵌入式操作系统、专用操作系统。普通群众所用的计算机中所装的基本上都是通用操作系统，可以胜任比较常见的任务。嵌入式操作系统常见于物联网设备上，比如共享充电宝，共享单车等。专用操作系统一般用于军事、工业、医疗等行业。

根据信号处理的实时性可以分为实时操作系统和非实时操作系统。实时指的是当向计算机发送指令后可在一个规定的时间内获取反馈。我们常用的计算机并不是实时操作系统，很多情况下都会有卡顿的情况。


# 四、主要操作系统简介

##  Windows操作系统

## Unix操作系统

## [Linux操作系统](https://github.com/geekist/developer_guide/blob/main/operationsystem/linux.md)


## Mac操作系统

## iOS操作系统

## Android操作系统
